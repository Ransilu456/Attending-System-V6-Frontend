var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(r,t,s)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,l=(e,r)=>{for(var t in r||(r={}))a.call(r,t)&&o(e,t,r[t]);if(s)for(var t of s(r))i.call(r,t)&&o(e,t,r[t]);return e},d=(e,s)=>r(e,t(s)),n=(e,r,t)=>new Promise(((s,a)=>{var i=e=>{try{l(t.next(e))}catch(r){a(r)}},o=e=>{try{l(t.throw(e))}catch(r){a(r)}},l=e=>e.done?s(e.value):Promise.resolve(e.value).then(i,o);l((t=t.apply(e,r)).next())}));import{r as c,c as m,j as x,m as u,A as h,L as b}from"./vendor-niVxJDCj.js";import{u as p,a as g,B as f}from"./index-BuwQNYxn.js";import{u as y}from"./useFormSubmit-BcPizVvo.js";import{i as w}from"./ui-DVJ2orZe.js";const v=()=>{const{theme:e}=p(),r="dark"===e,[t,o]=c.useState({name:"",email:"",password:"",confirmPassword:"",role:"admin",agreeToTerms:!1}),[v,j]=c.useState({name:!1,email:!1,password:!1,confirmPassword:!1,agreeToTerms:!1}),[N,P]=c.useState({}),[k,T]=c.useState(""),{register:C}=g(),O=m(),{loading:S,error:$,setError:A,handleSubmit:R}=y((e=>n(void 0,null,(function*(){var r,t,o,l;const d=e,{confirmPassword:n,agreeToTerms:c}=d,m=((e,r)=>{var t={};for(var o in e)a.call(e,o)&&r.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&s)for(var o of s(e))r.indexOf(o)<0&&i.call(e,o)&&(t[o]=e[o]);return t})(d,["confirmPassword","agreeToTerms"]);try{return yield C(m),!0}catch(x){let e="Registration failed. Please try again.";throw(null==(t=null==(r=x.response)?void 0:r.data)?void 0:t.message)?e=x.response.data.message:400===(null==(o=x.response)?void 0:o.status)?e="Invalid registration data. Please check your information.":409===(null==(l=x.response)?void 0:l.status)&&(e="Email already exists. Please use a different email address."),T(e),x}}))),{onSuccess:()=>{O("/login",{state:{message:"Account created successfully. Please log in."}})}});c.useEffect((()=>{$&&(A(""),T(""))}),[t,$,A]);const z=e=>{const{name:r,value:t,type:s,checked:a}=e.target,i="checkbox"===s?a:t;o((e=>d(l({},e),{[r]:i}))),v[r]&&q(r,i)},B=e=>{const{name:r,value:t,type:s,checked:a}=e.target,i="checkbox"===s?a:t;j((e=>d(l({},e),{[r]:!0}))),q(r,i)},q=(e,r)=>{let s=l({},N);switch(e){case"name":r.trim()?r.trim().length<2?s.name="Name must be at least 2 characters":r.trim().length>50?s.name="Name must be less than 50 characters":/^[a-zA-Z\s'-]+$/.test(r)?delete s.name:s.name="Name can only contain letters, spaces, hyphens and apostrophes":s.name="Name is required";break;case"email":r.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)?delete s.email:s.email="Please enter a valid email address":s.email="Email is required";break;case"password":r?r.length<6?s.password="Password must be at least 6 characters":/(?=.*[a-z])/.test(r)?/(?=.*[A-Z])/.test(r)?/(?=.*\d)/.test(r)?delete s.password:s.password="Password must contain at least one number":s.password="Password must contain at least one uppercase letter":s.password="Password must contain at least one lowercase letter":s.password="Password is required",v.confirmPassword&&t.confirmPassword&&(r!==t.confirmPassword?s.confirmPassword="Passwords do not match":delete s.confirmPassword);break;case"confirmPassword":r?r!==t.password?s.confirmPassword="Passwords do not match":delete s.confirmPassword:s.confirmPassword="Please confirm your password";break;case"agreeToTerms":r?delete s.agreeToTerms:s.agreeToTerms="You must agree to the terms and conditions"}return P(s),!s[e]},E={hidden:{y:20,opacity:1},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},F={shake:{x:[0,-10,10,-10,10,0],transition:{duration:.5}},visible:E.visible};return x.jsx("div",{className:`min-h-screen ${r?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-800":"bg-gradient-to-br from-blue-50 via-sky-50 to-cyan-100"} py-6 sm:py-8 md:py-12 px-4 sm:px-6 md:px-8 flex items-center justify-center`,children:x.jsxs(u.div,{className:"max-w-5xl w-full flex flex-col md:flex-row rounded-xl shadow-2xl overflow-hidden "+(r?"bg-slate-800":"bg-white"),initial:"hidden",animate:"visible",variants:{hidden:{opacity:1},visible:{opacity:1,transition:{duration:.5,when:"beforeChildren",staggerChildren:.1}}},children:[x.jsxs("div",{className:"w-full md:w-3/5 lg:w-1/2 p-6 sm:p-8 md:p-10",children:[x.jsxs(u.div,{variants:E,className:"mb-6 sm:mb-8",children:[x.jsx("h2",{className:`text-2xl sm:text-3xl font-extrabold ${r?"text-white":"text-gray-900"} mb-2`,children:"Create Your Account"}),x.jsx("p",{className:"text-sm "+(r?"text-gray-300":"text-gray-600"),children:"Join us to start managing attendance efficiently"})]}),($||k)&&x.jsx("div",{className:`rounded-md ${r?"bg-red-900/30 border-red-800":"bg-red-50 border-red-200"} p-3 sm:p-4 border mb-4 sm:mb-6`,children:x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(w,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),x.jsxs("div",{className:"ml-3",children:[x.jsx("h3",{className:"text-sm font-medium "+(r?"text-red-300":"text-red-800"),children:"Registration Error"}),x.jsx("div",{className:"mt-1 text-sm "+(r?"text-red-300":"text-red-700"),children:x.jsx("p",{children:k||$})})]})]})}),x.jsxs(u.form,{className:"space-y-4 sm:space-y-6",onSubmit:e=>n(void 0,null,(function*(){if(e.preventDefault(),T(""),(()=>{let e=!0,r={name:!0,email:!0,password:!0,confirmPassword:!0,agreeToTerms:!0};return Object.keys(r).forEach((r=>{q(r,t[r])||(e=!1)})),j(r),e})())try{yield R(e,t)}catch(r){}else f.error("Please fix the errors in the form before submitting")})),initial:"hidden",animate:Object.keys(N).length>0&&Object.values(v).some((e=>e))?"shake":"visible",variants:F,children:[x.jsxs(u.div,{variants:E,children:[x.jsx("label",{htmlFor:"name",className:"block mb-1.5 sm:mb-2 text-sm font-medium "+(r?"text-gray-300":"text-gray-900"),children:"Full Name"}),x.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:t.name,onChange:z,onBlur:B,className:`${r?"bg-slate-700 border-slate-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900"} border text-sm rounded-lg block w-full p-2.5 ${v.name&&N.name?r?"bg-red-900/30 border-red-600 text-red-300 placeholder-red-400 focus:ring-red-500 focus:border-red-500":"bg-red-50 border-red-500 text-red-900 placeholder-red-700 focus:ring-red-500 focus:border-red-500":"focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"John Doe"}),x.jsx(h,{children:v.name&&N.name&&x.jsx(u.p,{className:"mt-1 sm:mt-2 text-xs sm:text-sm "+(r?"text-red-400":"text-red-600"),initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:N.name})})]}),x.jsxs(u.div,{variants:E,children:[x.jsx("label",{htmlFor:"email",className:"block mb-1.5 sm:mb-2 text-sm font-medium "+(r?"text-gray-300":"text-gray-900"),children:"Email address"}),x.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:z,onBlur:B,className:`${r?"bg-slate-700 border-slate-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900"} border text-sm rounded-lg block w-full p-2.5 ${v.email&&N.email?r?"bg-red-900/30 border-red-600 text-red-300 placeholder-red-400 focus:ring-red-500 focus:border-red-500":"bg-red-50 border-red-500 text-red-900 placeholder-red-700 focus:ring-red-500 focus:border-red-500":"focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"you@example.com"}),x.jsx(h,{children:v.email&&N.email&&x.jsx(u.p,{className:"mt-1 sm:mt-2 text-xs sm:text-sm "+(r?"text-red-400":"text-red-600"),initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:N.email})})]}),x.jsxs(u.div,{variants:E,children:[x.jsx("label",{htmlFor:"password",className:"block mb-1.5 sm:mb-2 text-sm font-medium "+(r?"text-gray-300":"text-gray-900"),children:"Password"}),x.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:t.password,onChange:z,onBlur:B,className:`${r?"bg-slate-700 border-slate-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900"} border text-sm rounded-lg block w-full p-2.5 ${v.password&&N.password?r?"bg-red-900/30 border-red-600 text-red-300 placeholder-red-400 focus:ring-red-500 focus:border-red-500":"bg-red-50 border-red-500 text-red-900 placeholder-red-700 focus:ring-red-500 focus:border-red-500":"focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"••••••••"}),x.jsx(h,{children:v.password&&N.password?x.jsx(u.p,{className:"mt-1 sm:mt-2 text-xs sm:text-sm "+(r?"text-red-400":"text-red-600"),initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:N.password}):x.jsx("p",{className:"mt-1 text-xs "+(r?"text-gray-400":"text-gray-500"),children:"Password must be at least 6 characters long and contain at least one lowercase letter, one uppercase letter, and one number"})})]}),x.jsxs(u.div,{variants:E,children:[x.jsx("label",{htmlFor:"confirmPassword",className:"block mb-1.5 sm:mb-2 text-sm font-medium "+(r?"text-gray-300":"text-gray-900"),children:"Confirm Password"}),x.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:t.confirmPassword,onChange:z,onBlur:B,className:`${r?"bg-slate-700 border-slate-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900"} border text-sm rounded-lg block w-full p-2.5 ${v.confirmPassword&&N.confirmPassword?r?"bg-red-900/30 border-red-600 text-red-300 placeholder-red-400 focus:ring-red-500 focus:border-red-500":"bg-red-50 border-red-500 text-red-900 placeholder-red-700 focus:ring-red-500 focus:border-red-500":"focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"••••••••"}),x.jsx(h,{children:v.confirmPassword&&N.confirmPassword&&x.jsx(u.p,{className:"mt-1 sm:mt-2 text-xs sm:text-sm "+(r?"text-red-400":"text-red-600"),initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:N.confirmPassword})})]}),x.jsxs(u.div,{variants:E,className:"flex items-start",children:[x.jsx("div",{className:"flex items-center h-5",children:x.jsx("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",checked:t.agreeToTerms,onChange:z,onBlur:B,className:`w-4 h-4 rounded-sm focus:ring-3 ${r?"bg-slate-700 border-slate-600 focus:ring-blue-600":"bg-gray-50 border-gray-300 focus:ring-blue-300"} ${v.agreeToTerms&&N.agreeToTerms?r?"border-red-600":"border-red-500":r?"border-slate-600":"border-gray-300"}`,required:!0})}),x.jsxs("label",{htmlFor:"agreeToTerms",className:"ms-2 text-sm font-medium "+(r?"text-gray-300":"text-gray-900"),children:["I agree with the"," ",x.jsx("a",{href:"#",className:"text-blue-600 hover:underline dark:text-blue-400 dark:hover:text-blue-300",children:"terms and conditions"})]})]}),x.jsx(h,{children:v.agreeToTerms&&N.agreeToTerms&&x.jsx(u.p,{className:"mt-1 text-xs sm:text-sm "+(r?"text-red-400":"text-red-600"),initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:N.agreeToTerms})}),x.jsx(u.div,{variants:E,className:"flex items-center justify-between",children:x.jsxs("div",{className:"text-sm",children:[x.jsx("span",{className:""+(r?"text-gray-300":"text-gray-500"),children:"Already have an account?"})," ",x.jsx(b,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"Sign in"})]})}),x.jsx(u.div,{variants:E,children:x.jsx(u.button,{type:"submit",disabled:S||Object.keys(N).length>0,className:"group relative flex w-full justify-center rounded-md bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 py-2.5 sm:py-3 px-4 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 disabled:opacity-50 transition-all duration-300 "+(S||Object.keys(N).length>0?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),whileHover:{scale:1.02,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},whileTap:{scale:.98},children:S?x.jsxs("span",{className:"flex items-center",children:[x.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:x.jsx("svg",{className:"h-5 w-5 text-blue-300 group-hover:text-blue-200",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:x.jsx("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z",clipRule:"evenodd"})})}),"Create Account"]})})})]})]}),x.jsxs("div",{className:"hidden md:block md:w-2/5 lg:w-1/2 bg-gradient-to-br from-blue-600 to-cyan-600 p-8 md:p-10 lg:p-12 text-white relative overflow-hidden",children:[x.jsx(u.div,{className:"absolute top-0 left-0 w-full h-full",initial:{opacity:0},animate:{opacity:.1},transition:{duration:1},children:x.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[x.jsx("defs",{children:x.jsx("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:x.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),x.jsx("rect",{width:"100",height:"100",fill:"url(#grid)"})]})}),x.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[x.jsxs("div",{children:[x.jsx(u.h2,{className:"text-2xl md:text-3xl font-bold mb-4 md:mb-6 text-white",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2,duration:.8},children:"Join Our Attendance System"}),x.jsx(u.p,{className:"text-blue-100 mb-6 md:mb-8 max-w-md text-sm md:text-base",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4,duration:.8},children:"Create your account to access our powerful attendance tracking system. Manage students, generate reports, and gain valuable insights."}),x.jsx(u.div,{className:"space-y-3 md:space-y-4",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6,duration:.8},children:["Secure authentication system","Role-based access control","Manage student records","Generate attendance reports","QR code scanning functionality"].map(((e,r)=>x.jsxs("div",{className:"flex items-center",children:[x.jsx("svg",{className:"h-5 w-5 text-blue-300 mr-2 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),x.jsx("span",{className:"text-sm md:text-base",children:e})]},r)))})]}),x.jsxs(u.div,{className:"mt-auto text-xs md:text-sm text-blue-200",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1,duration:.8},children:[x.jsx("p",{children:"© 2025 Attendance System. All rights reserved."}),x.jsx("p",{className:"mt-1",children:"Powered by Ransilu Samarasekara."})]})]})]})]})})};export{v as default};
